install.packages("tuber")
setwd(dirname(getSourceEditorContext()$path))
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(tidytext)
library(igraph)
library(ggraph)
library(tuber)
setwd(dirname(getSourceEditorContext()$path))
get_captions(id = f8c3TzQtD4k)
list_caption_tracks(video_id = "f8c3TzQtD4k")
yt_oauth()
yt_oauth()
list_caption_tracks(video_id = "f8c3TzQtD4k")
library(rvest)
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
url %>% html()
library(rvest)
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
url %>% html()
pagehtml <- url %>% read_html()
pagehtml
pagehtml <- url %>% rvest::read_html()
url %>% read_html()
url
setwd(dirname(getSourceEditorContext()$path))
url <- "https://www.ted.com/talks/al_gore_new_thinking_on_the_climate_crisis/transcript?referrer=playlist-climate_change_oh_it_s_real&language=en"
pagehtml <- url %>% read_html()
pageurl <- "https://www.ted.com/talks/al_gore_new_thinking_on_the_climate_crisis/transcript?referrer=playlist-climate_change_oh_it_s_real&language=en"
pagehtml <- url %>% read_html()
pagehtml
pagehtml %>% html_nodes('div')
pagehtml %>% html_nodes('div') %>%
html_text()
pagehtml %>% html_nodes('div') %>%
html_nodes('div') %>%
html_nodes('div') %>%
html_nodes('div') %>%
html_text()
pagehtml %>% html_nodes('div') %>%
html_nodes('div') %>%
html_nodes('div') %>%
html_nodes('div')
pagehtml %>% html_nodes('div')
pagehtml %>% html_nodes('div') %>%
html_attrs('p:2 p-t:4@md')
pagehtml %>% html_nodes('div') %>%
html_attrs('.p:2 p-t:4@md')
pagehtml %>% html_nodes('div') %>%
html_nodes('.p:2 p-t:4@md')
pagehtml %>% html_nodes('div') %>%
html_nodes('.p:2 p-t:4\\@md')
pagehtml %>% html_nodes('div') %>%
html_nodes('.p:2 p-t:4\@md')
pagehtml %>% html_nodes('div') %>%
html_nodes('.p:2 p-t:4@md')
pagehtml %>% html_nodes('div') %>%
html_nodes('.Grid Grid')
pagehtml %>% html_nodes('div') %>%
html_attrs('.Grid Grid')
pagehtml %>% html_nodes('div') %>%
html_attrs('Grid Grid')
pagehtml %>% html_nodes('div') %>%
html_nodes('Grid Grid')
pagehtml %>% html_nodes('body')
pagehtml %>% html_nodes('body') %>%
html_nodes('m-b:7 p-l:.5')
pagehtml %>% html_nodes('body') %>%
html_node('m-b:7 p-l:.5')
pagehtml %>% html_nodes('body') %>%
html_nodes('.m-b:7 p-l:.5')
pagehtml %>% html_nodes('body') %>%
html_nodes('Grid Grid--with-gutter d:f@md p-b:4')
pagehtml %>% html_nodes('body') %>%
html_nodes(xpath = '//*[@id="content"]/div/div[4]/div[3]')
pagehtml %>%
html_nodes(xpath = '//*[@id="content"]/div/div[4]/div[3]')
pagehtml %>%
html_nodes(xpath = '/html/body/div[1]/div[2]/div/div[2]/div/div/div/div/div[1]/div/div[1]/div[2]/div/div[4]/div[3]/section')
pagehtml %>% write("html.txt")
pagehtml %>% write("page.html")
pagehtml %>% write_html("page.html")
pagehtml %>%
html_nodes(xpath = '/html/body/table/tbody/tr[472]/td[2]/span')
pagehtml %>%
html_nodes(xpath = '/html/body/table/tbody/tr[472]/td[2]/span')
pagehtml %>%
html_node(xpath = '/html/body/table/tbody/tr[472]/td[2]/span')
pagehtml %>%
html_attrs(xpath = '/html/body/table/tbody/tr[472]/td[2]/span')
pagehtml %>%
html_attr(xpath = '/html/body/table/tbody/tr[472]/td[2]/span')
pagehtml %>% html_nodes('body')
pagehtml %>% html_nodes('body') %>%
html_nodes('table')
pagehtml %>% html_nodes('body') %>%
html_nodes('.table')
pagehtml %>% html_nodes('body') %>%
html_children()
pagehtml %>% html_nodes(xpath = '/html/body/table/tbody/tr[472]/td[2]')
pagehtml %>% html_nodes(xpath = '/table/tbody/tr[472]/td[2]')
pagehtml %>% html_nodes(xpath = '/html/body/table/tbody')
pagehtml %>% html_nodes(xpath = '/html/body/table')
pagehtml %>% html_nodes(xpath = '/html/body')
pagehtml %>% html_nodes(xpath = '/html/body/table')
pagehtml %>% html_nodes(xpath = './tbody/tr[472]/td[2]')
pagehtml %>% html_nodes(xpath = './tr[472]/td[2]')
pagehtml %>% html_nodes('body')
pagehtml %>% html_nodes('body') %>%
html_table('table')
pagehtml %>% html_nodes('body') %>%
html_table()
pagehtml %>% html_nodes('body') %>%
html_table('tbody')
pagehtml %>% html_nodes('body') %>%
html_name()
pagehtml %>% html_nodes('body') %>%
html_nodes('tbody')
pagehtml %>% html_nodes('body') %>%
html_nodes('.tbody')
pagehtml %>% html_nodes('body') %>%
html_nodes('html-attribute-value')
pagehtml %>% html_nodes('body') %>%
html_attrs('html-attribute-value')
pagehtml %>% html_nodes('body') %>%
html_attrs('.html-attribute-value')
pagehtml %>% html_nodes('body') %>%
html_nodes('.line-content')
pagehtml %>% html_nodes('body') %>%
html_nodes('div')
pagehtml %>% html_nodes('body') %>%
html_nodes('span')
pagehtml %>% html_nodes('body') %>%
html_nodes('p')
pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text()
pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE)
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE)
glimpse(transcript)
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub('\t','')
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '')
glimpse(transcript)
transcript
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ')
transcript
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ') %>%
gsub(pattern = '\\', replacement = '')
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ') %>%
gsub(pattern = '\^\$', replacement = '')
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ') %>%
gsub(pattern = '\$\^', replacement = '')
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ')
transcript
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ') %>%
gsub(pattern = "\\", replacement = '"')
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ') %>%
gsub(pattern = "\\", replacement = '"', fixed = TRUE)
transcript
transcript <- pagehtml %>% html_nodes('body') %>%
html_nodes('p') %>%
html_text(trim = TRUE) %>%
gsub(pattern = '\t',replacement = '') %>%
gsub(pattern = '\n', replacement = ' ') %>%
gsub(pattern = "\\\\", replacement = '')
transcript
glimpse(transcript)
