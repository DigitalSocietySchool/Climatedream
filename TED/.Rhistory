urlp <- "https://www.ted.com//talks/al_gore_new_thinking_on_the_climate_crisis/transcript"
urlp %>% transcriptTED()
urlp %>% transcriptTED()
videolist %>% split(f = '?')
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector()
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, sep = "")
videolist %>% strsplit(f = '?')
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, sep = "")
videolist %>% strsplit(split = '?')
videolist %>% strsplit(split = '\?')
videolist %>% strsplit(split = '\\?')
videolist <- videolist %>% strsplit(split = '\\?')
View(videolist)
videolist
videolist[1]
videolist[[1]]
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector()
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, sep = "")
videolist <- videolist %>% gsub('\\?')
videolist <- gsub(pattern = '\\?', x = videolist, replacement = "")
videolist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector()
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, sep = "")
videolist <- gsub(pattern = '\\?(.*)', x = videolist, replacement = "")
videolist
# URL of the playlist
playlisturl <- "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
videolist
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
videolist
videolist[1] %>% transcriptTED()
videolist %>% apply(transcriptTED())
videolist %>% apply(FUN = transcriptTED(x))
videolist %>% apply(FUN = transcriptTED())
apply(X = videolist,FUN = transcriptTED(X))
apply(X = videolist,FUN = transcriptTED(x))
apply(X = videolist,FUN = transcriptTED())
apply(X = videolist, 1,FUN = transcriptTED())
val %>% transcriptTED()
for (val in videolist) {
val %>% transcriptTED()
}
for (val in videolist) {
val %>% transcriptTED() %>% print()
}
for (val in videolist) {
val %>% transcriptTED() %>% write("transcripts.txt", append = TRUE)
}
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
warnings()
videolist
read_file("transcripts.txt")
file <- read_file("transcripts.txt")
glimpse(file)
file <- read_lines("transcripts.txt")
file
glimpse(file)
file %>% head(5)
glimpse(file)
file %>% strsplit(split = "\"x\"")
glimpse(file)
file <- read.table("transcripts.txt")
file <- read("transcripts.txt")
file <- read.table("transcripts.txt")
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
source('transcriptTED.R')
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
# URL of the playlist
playlisturl <- "https://www.ted.com/playlists/126/the_big_picture"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
# scrape list of videos from playlist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
# clean list of video
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
for (val in videolist) {
val %>% transcriptTED() %>% write.table("transcripts.txt", append = TRUE)
}
("transcripts.txt")
file <- read.table("transcripts.txt")
for (val in videolist) {
val %>% transcriptTED() %>% write_lines("transcripts.txt", append = TRUE)
}
file <- read_lines("transcripts.txt")
glimpse(file)
file %>% head(5)
install.packages("rlist")
library(rlist)
for (val in videolist) {
temp <- val %>% transcriptTED()
temp %>% write_lines("transcripts.txt", append = TRUE)
trnslist <- list.append(temp)
}
glimpse(trnslist)
for (val in videolist) {
temp <- val %>% transcriptTED()
temp %>% write_lines("transcripts.txt", append = TRUE)
trnslist <- trnslist %>% list.append(temp)
}
glimpse(trnslist)
trnslist %>% head(5)
trnslist %>% head(5)
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
library(rlist)
source('transcriptTED.R')
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
# URL of the playlist
playlisturl <- "https://www.ted.com/playlists/126/the_big_picture"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
# scrape list of videos from playlist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
# clean list of video
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
temp %>% write_lines("transcripts.txt", append = TRUE)
trnslist <- trnslist %>% list.append(temp)
}
trnslist %>% head(5)
trnslist[25]
trnslist[28]
trnslist[29]
trnslist[22]
trnslist[23]
trnslist %>% split(f = "© TED Conferences, LLC. All rights reserved.")
trnslist <- trnslist %>% split(f = "© TED Conferences, LLC. All rights reserved.")
View(trnslist)
trnslist[["© TED Conferences, LLC. All rights reserved."]]
trnslist <- trnslist %>% split(sep = "© TED Conferences, LLC. All rights reserved.")
trnslist <- split(trnslist, trnslist == "© TED Conferences, LLC. All rights reserved.")
glimpse(trnslist)
View(trnslist)
trnslist[["FALSE"]]
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
temp %>% write_lines("transcripts.txt", append = TRUE)
trnslist <- trnslist %>% list.append(temp)
}
trnslist <- split(trnslist, cumsum(trnslist == "© TED Conferences, LLC. All rights reserved."))
glimpse(trnslist)
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
trnslist %>% as.data.frame() %>% write.csv("transcript.csv")
trnslist <- trnslist[-length(trnslist)]
trnslist %>% saveRDS(file = "texttranscription.rds")
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
View(trnslist)
trnslist[["0"]]
trnslist[["1"]]
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
library(rlist)
source('transcriptTED.R')
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
# URL of the playlist
# "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
# "https://www.ted.com/playlists/126/the_big_picture"
playlisturl <- "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
# scrape list of videos from playlist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
# clean list of video
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
trnslist <- trnslist %>% list.append(temp)
}
trnslist <- split(trnslist, cumsum(trnslist == "© TED Conferences, LLC. All rights reserved."),drop = T)
glimpse(trnslist)
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
View(trnslist)
trnslist <- trnslist[-grep(trnslist,pattern = "© TED Conferences, LLC. All rights reserved.")]
View(trnslist)
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
trnslist <- trnslist %>% list.append(temp)
}
trnslist <- split(trnslist, cumsum(trnslist == "© TED Conferences, LLC. All rights reserved."))
trnslist <- trnslist[-length(trnslist)]
trnslist %>% saveRDS(file = "texttranscription.rds")
trnslist <- trnslist[[-grep(trnslist,pattern = "© TED Conferences, LLC. All rights reserved.")]]
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
trnslist[[1][1]]
trnslist[[1]]
trnslist[[2]]
trnslist[[grep(trnslist=="© TED Conferences, LLC. All rights reserved.")]]
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
library(rlist)
source('transcriptTED.R')
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
# URL of the playlist
# "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
# "https://www.ted.com/playlists/126/the_big_picture"
playlisturl <- "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
# scrape list of videos from playlist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
# clean list of video
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
trnslist <- trnslist %>% list.append(temp)
}
glimpse(trnslist)
trnslist[29]
trnslist <- trnslist[-grep(pattern = strn, x = trnslist)]
strn <- "TED.com translations are made possible by volunteer translators. Learn more about the Open Translation Project."
trnslist <- trnslist[-grep(pattern = strn, x = trnslist)]
glimpse(trnslist)
strn <- "© TED Conferences, LLC. All rights reserved."
trnslist <- trnslist %>% gsub(pattern = strn,replacement = "©")
glimpse(trnslist)
trnslist <- split(trnslist, cumsum(trnslist == "©"))
trnslist <- trnslist[-length(trnslist)]
trnslist %>% saveRDS(file = "texttranscription.rds")
glimpse(trnslist)
View(trnslist)
View(trnslist)
trnslist[["8"]]
trnslist %>% as.data.frame()
library(reshape2)
trnslist %>% melt()
t <- trnslist %>% melt()
glimpse(t)
View(t)
library(tidytext)
trnslist %>%
unnest_tokens(word, text)
trnslist %>%
as.data.frame()
trnslist %>%
join()
trnslist %>%
unlist()
trnslist[1] %>% toString()
trnslist %>% toString()
for (val in trnslist) {
trnslist[val] <- trnslist[val] %>% toString()
}
View(trnslist)
trnslist[["0"]]
for (val in trnslist[]) {
trnslist[val] <- trnslist[val] %>% toString()
}
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
trnslist <- trnslist %>% list.append(temp)
}
strn <- "TED.com translations are made possible by volunteer translators. Learn more about the Open Translation Project."
trnslist <- trnslist[-grep(pattern = strn, x = trnslist)]
strn <- "© TED Conferences, LLC. All rights reserved."
trnslist <- trnslist %>% gsub(pattern = strn,replacement = "©")
trnslist <- split(trnslist, cumsum(trnslist == "©"))
trnslist <- trnslist[-length(trnslist)]
trnslist %>% saveRDS(file = "texttranscription.rds")
for (val in trnslist[]) {
trnslist[val] <- trnslist[val] %>% toString()
}
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
library(rlist)
library(tidytext)
source('transcriptTED.R')
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
# URL of the playlist
# "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
# "https://www.ted.com/playlists/126/the_big_picture"
playlisturl <- "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
# scrape list of videos from playlist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
# clean list of video
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
trnslist <- trnslist %>% list.append(temp)
}
strn <- "TED.com translations are made possible by volunteer translators. Learn more about the Open Translation Project."
trnslist <- trnslist[-grep(pattern = strn, x = trnslist)]
strn <- "© TED Conferences, LLC. All rights reserved."
trnslist <- trnslist %>% gsub(pattern = strn,replacement = "©")
trnslist <- split(trnslist, cumsum(trnslist == "©"))
trnslist <- trnslist[-length(trnslist)]
trnslist %>% saveRDS(file = "texttranscription.rds")
trnslist %>% paste(sep = '',collapse = '')
trnslist[1] %>% paste(sep = '',collapse = '')
trnslist[2] %>% paste(sep = '',collapse = '')
length(trnslist)
val
for (val in trnslist) {
val
}
for (val in trnslist) {
print(val)
}
for (val in 1:length(trnslist)) {
print(val)
}
for (val in 1:length(trnslist)) {
trnslist[val] %>% paste(sep = '',collapse = '')
}
View(trnslist)
# UGLY !!!!
for (val in 1:length(trnslist)) {
trnslist[val] <- trnslist[val] %>% paste(sep = '',collapse = '')
}
View(trnslist)
trnslist[["0"]]
trnslist %>% as.data.frame()
trnslist <- trnslist %>% as.data.frame()
glimpse(trnslist)
trnslist <- trnslist %>%
as.data.frame() %>%
unnest_tokens(word, text)
trnslist <- trnslist %>%
as.data.frame() %>%
unnest_tokens()
trnslist[1] %>% length()
trnslist[val] <- tibble(text = trnslist[val], line = 1:col_number())
trnslist[val] %>% col_number()
trnslist %>% glimpse()
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
tibble(text = trnslist[1], line = 1:27)
tibble(text = trnslist[1], line = 1:28)
trnslist[1] %>% as.tibble()
trnslist[1] %>% as_tibble()
trnslist %>% as_tibble()
[1]
library(rstudioapi)
library(tidyverse)
library(dplyr)
library(rvest)
library(rlist)
library(tidytext)
source('transcriptTED.R')
setwd(dirname(getSourceEditorContext()$path))
# Disable text encoding as 'factors'
options(stringsAsFactors = FALSE)
# URL of the playlist
# "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
# "https://www.ted.com/playlists/126/the_big_picture"
playlisturl <- "https://www.ted.com/playlists/78/climate_change_oh_it_s_real"
htmlpage <- playlisturl %>% read_html()
htmlpage %>% write_html("playlist.html")
# scrape list of videos from playlist
videolist <- htmlpage %>% html_nodes('body') %>%
html_nodes('a') %>%
html_attr('href') %>%
as.vector() %>%
gsub(pattern = '\\?(.*)', replacement = "")
# clean list of video
videolist <- videolist[grep(x = videolist, pattern = '/talks/')]
videolist <- videolist[-1]
videolist <- paste('https://www.ted.com/', videolist, '/transcript', sep = "")
trnslist <- vector()
for (val in videolist) {
temp <- val %>% transcriptTED()
trnslist <- trnslist %>% list.append(temp)
}
strn <- "TED.com translations are made possible by volunteer translators. Learn more about the Open Translation Project."
trnslist <- trnslist[-grep(pattern = strn, x = trnslist)]
strn <- "© TED Conferences, LLC. All rights reserved."
trnslist <- trnslist %>% gsub(pattern = strn,replacement = "©")
trnslist <- split(trnslist, cumsum(trnslist == "©"))
trnslist <- trnslist[-length(trnslist)]
trnslist %>% saveRDS(file = "texttranscription.rds")
for (val in 1:length(trnslist)) {
trnslist[val] %>% as_tibble()
}
for (val in 1:length(trnslist)) {
trnslist[val] <- trnslist[val] %>% as_tibble()
}
View(trnslist)
trnslist[["0"]]
trnslist
for (val in length(trnslist)) {
print(val)
trnslist[val] <- trnslist[val] %>% as_tibble()
}
for (val in 1:length(trnslist)) {
print(val)
trnslist[val] <- trnslist[val] %>% as_tibble()
}
for (val in 1:length(trnslist)) {
print(val)
trnslist[val] <- trnslist[val] %>% as_tibble()
}
View(trnslist)
t <- list()
for (val in 1:length(trnslist)) {
print(val)
t[val] <- trnslist[val] %>% as_tibble()
}
View(t)
t[[1]]
View(trnslist)
source('C:/Users/fcalv/Desktop/R folder/Climatedream/TED/script.R', echo=TRUE)
trnslist %>% lengths()
trnslist[1] %>% lengths()
df <- tibble(line = 1:tail(lengths(trnslist[1]),1), text = trnslist[1])
glimpse(df)
view(df)
df <- tibble(line = 1:tail(lengths(trnslist[1]),1), text = trnslist)
df <- tibble(line = 1:tail(lengths(trnslist[1]),1), text = trnslist[0])
df <- tibble(line = 1:tail(lengths(trnslist[1]),1), text = trnslist[1])
view(df)
trnslist %>% glimpse()
trnslist[1]
df <- tibble(line = 1:tail(lengths(trnslist[1]),1), text = as.vector(trnslist[1]))
df
view(df)
df <- trnslist[1] %>% as.data.frame()
df
glimpse(df)
View(df)
df %>%
unnest_tokens(word, X0)
